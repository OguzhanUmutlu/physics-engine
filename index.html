<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Engine</title>
</head>
<body>
<canvas></canvas>
<script src="engine.js"></script>
<script type="module">
    await window.Phygic;
    const {
        Vector2,
        Shapes,
        Tile,
        World,
        Utils: {Animator, CanvasResizer, centerCanvas, MouseConstraint}
    } = window.Phygic;
    const canvas = document.querySelector("canvas");

    const world = new World(canvas);

    const animator = Animator([world.update, world.render]);

    const canvasCenter = centerCanvas(canvas);
    //canvasCenter.remove();

    const canvasResizer = CanvasResizer(canvas);
    //canvasResizer.remove();

    const mouseConstraint = MouseConstraint(world);

    new Tile(20, 20, {
        shape: new Shapes.Rectangle(20, 20), world
    });
    const ground = new Tile(canvas.width / 2, canvas.height - 20, {
        gravityEnabled: false, shape: new Shapes.Rectangle(8000, 10), world
    });
    new Tile(300, 500, {
        gravityEnabled: false, shape: new Shapes.Polygon([
            [-100, -50],
            [10, 10],
            [-100,10]
        ]), world
    });

    canvasResizer.addCallback(() => {
        ground.x = canvas.width / 2;
        ground.y = canvas.height - 20;
    });
</script>
</body>
</html>